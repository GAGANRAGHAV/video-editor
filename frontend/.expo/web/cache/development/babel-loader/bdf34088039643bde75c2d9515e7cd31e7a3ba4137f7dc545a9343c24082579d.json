{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport { Video } from 'expo-av';\nimport * as FileSystem from 'expo-file-system';\nimport { checkJobStatus } from \"../api\";\nimport { API_ENDPOINTS } from \"../config\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function RenderingScreen(_ref) {\n  var route = _ref.route,\n    navigation = _ref.navigation;\n  var jobId = route.params.jobId;\n  var _useState = useState({\n      status: 'pending',\n      created_at: null,\n      completed_at: null,\n      error: null\n    }),\n    _useState2 = _slicedToArray(_useState, 2),\n    status = _useState2[0],\n    setStatus = _useState2[1];\n  var _useState3 = useState(true),\n    _useState4 = _slicedToArray(_useState3, 2),\n    loading = _useState4[0],\n    setLoading = _useState4[1];\n  var _useState5 = useState(0),\n    _useState6 = _slicedToArray(_useState5, 2),\n    downloadProgress = _useState6[0],\n    setDownloadProgress = _useState6[1];\n  var _useState7 = useState(null),\n    _useState8 = _slicedToArray(_useState7, 2),\n    videoUri = _useState8[0],\n    setVideoUri = _useState8[1];\n  useEffect(function () {\n    var interval;\n    var checkStatus = function () {\n      var _ref2 = _asyncToGenerator(function* () {\n        try {\n          var jobStatus = yield checkJobStatus(jobId);\n          setStatus(jobStatus);\n          setLoading(false);\n          if (jobStatus.status === 'completed' || jobStatus.status === 'failed') {\n            clearInterval(interval);\n          }\n        } catch (error) {\n          console.error('Error checking job status:', error);\n          setLoading(false);\n          Alert.alert('Error', \"Failed to check processing status: \" + error.message);\n          clearInterval(interval);\n        }\n      });\n      return function checkStatus() {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n    checkStatus();\n    interval = setInterval(checkStatus, 2000);\n    return function () {\n      if (interval) {\n        clearInterval(interval);\n      }\n    };\n  }, [jobId]);\n  var handleDownload = function () {\n    var _ref3 = _asyncToGenerator(function* () {\n      try {\n        setLoading(true);\n        setDownloadProgress(0);\n        var fileUri = FileSystem.cacheDirectory + \"rendered_video_\" + jobId + \".mp4\";\n        var progressCallback = function progressCallback(downloadProgress) {\n          var progress = downloadProgress.totalBytesWritten / downloadProgress.totalBytesExpectedToWrite;\n          setDownloadProgress(progress);\n        };\n        var downloadResumable = FileSystem.createDownloadResumable(API_ENDPOINTS.RESULT(jobId), fileUri, {}, progressCallback);\n        var result = yield downloadResumable.downloadAsync();\n        if (result.status === 200) {\n          setVideoUri(result.uri);\n        } else {\n          throw new Error(\"Download failed with status \" + result.status);\n        }\n      } catch (error) {\n        console.error('Error downloading video:', error);\n        Alert.alert('Error', \"Failed to download video: \" + error.message);\n      } finally {\n        setLoading(false);\n      }\n    });\n    return function handleDownload() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  var handleGoHome = function handleGoHome() {\n    navigation.popToTop();\n  };\n  var renderContent = function renderContent() {\n    if (loading && !videoUri) {\n      return _jsxs(View, {\n        style: styles.centerContent,\n        children: [_jsx(ActivityIndicator, {\n          size: \"large\",\n          color: \"#4A90E2\"\n        }), _jsx(Text, {\n          style: styles.loadingText,\n          children: \"Checking status...\"\n        })]\n      });\n    }\n    switch (status.status) {\n      case 'pending':\n        return _jsxs(View, {\n          style: styles.centerContent,\n          children: [_jsx(ActivityIndicator, {\n            size: \"large\",\n            color: \"#4A90E2\"\n          }), _jsx(Text, {\n            style: styles.statusText,\n            children: \"Your video is in queue for processing...\"\n          })]\n        });\n      case 'processing':\n        return _jsxs(View, {\n          style: styles.centerContent,\n          children: [_jsx(ActivityIndicator, {\n            size: \"large\",\n            color: \"#4A90E2\"\n          }), _jsx(Text, {\n            style: styles.statusText,\n            children: \"Processing your video...\"\n          }), _jsx(Text, {\n            style: styles.infoText,\n            children: \"This may take a few minutes depending on video length and complexity.\"\n          })]\n        });\n      case 'completed':\n        if (videoUri) {\n          return _jsxs(View, {\n            style: styles.contentContainer,\n            children: [_jsx(Text, {\n              style: styles.successText,\n              children: \"Video processing complete!\"\n            }), _jsx(Video, {\n              source: {\n                uri: videoUri\n              },\n              rate: 1.0,\n              volume: 1.0,\n              isMuted: false,\n              resizeMode: \"contain\",\n              shouldPlay: false,\n              isLooping: true,\n              style: styles.video,\n              useNativeControls: true\n            }), _jsx(TouchableOpacity, {\n              style: styles.homeButton,\n              onPress: handleGoHome,\n              children: _jsx(Text, {\n                style: styles.buttonText,\n                children: \"Edit Another Video\"\n              })\n            })]\n          });\n        } else {\n          return _jsxs(View, {\n            style: styles.centerContent,\n            children: [_jsx(Text, {\n              style: styles.successText,\n              children: \"Video processing complete!\"\n            }), downloadProgress > 0 && downloadProgress < 1 ? _jsxs(View, {\n              style: styles.downloadProgressContainer,\n              children: [_jsxs(Text, {\n                style: styles.downloadText,\n                children: [\"Downloading: \", Math.round(downloadProgress * 100), \"%\"]\n              }), _jsx(View, {\n                style: styles.progressBar,\n                children: _jsx(View, {\n                  style: [styles.progressFill, {\n                    width: downloadProgress * 100 + \"%\"\n                  }]\n                })\n              })]\n            }) : _jsx(TouchableOpacity, {\n              style: styles.downloadButton,\n              onPress: handleDownload,\n              children: _jsx(Text, {\n                style: styles.buttonText,\n                children: \"Download and Preview\"\n              })\n            })]\n          });\n        }\n      case 'failed':\n        return _jsxs(View, {\n          style: styles.centerContent,\n          children: [_jsx(Text, {\n            style: styles.errorText,\n            children: \"Processing Failed\"\n          }), _jsx(Text, {\n            style: styles.errorDetail,\n            children: status.error || 'Unknown error occurred'\n          }), _jsx(TouchableOpacity, {\n            style: styles.homeButton,\n            onPress: handleGoHome,\n            children: _jsx(Text, {\n              style: styles.buttonText,\n              children: \"Try Again\"\n            })\n          })]\n        });\n      default:\n        return _jsxs(View, {\n          style: styles.centerContent,\n          children: [_jsx(Text, {\n            style: styles.errorText,\n            children: \"Unknown Status\"\n          }), _jsx(TouchableOpacity, {\n            style: styles.homeButton,\n            onPress: handleGoHome,\n            children: _jsx(Text, {\n              style: styles.buttonText,\n              children: \"Go Back\"\n            })\n          })]\n        });\n    }\n  };\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsxs(View, {\n      style: styles.header,\n      children: [_jsx(Text, {\n        style: styles.title,\n        children: \"Video Processing\"\n      }), _jsxs(Text, {\n        style: styles.jobId,\n        children: [\"Job ID: \", jobId]\n      })]\n    }), renderContent()]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff'\n  },\n  header: {\n    padding: 16,\n    borderBottomWidth: 1,\n    borderBottomColor: '#eee'\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: '#333'\n  },\n  jobId: {\n    fontSize: 12,\n    color: '#999'\n  },\n  centerContent: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: 20\n  },\n  contentContainer: {\n    flex: 1,\n    padding: 16\n  },\n  loadingText: {\n    marginTop: 16,\n    fontSize: 16,\n    color: '#666'\n  },\n  statusText: {\n    marginTop: 16,\n    fontSize: 18,\n    fontWeight: '500',\n    color: '#333'\n  },\n  infoText: {\n    marginTop: 8,\n    fontSize: 14,\n    color: '#666',\n    textAlign: 'center'\n  },\n  successText: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: '#5CB85C',\n    marginBottom: 24,\n    textAlign: 'center'\n  },\n  errorText: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: '#d9534f',\n    marginBottom: 12\n  },\n  errorDetail: {\n    fontSize: 14,\n    color: '#666',\n    textAlign: 'center',\n    marginBottom: 24,\n    padding: 16,\n    backgroundColor: '#f8d7da',\n    borderRadius: 4\n  },\n  downloadButton: {\n    backgroundColor: '#4A90E2',\n    paddingVertical: 12,\n    paddingHorizontal: 24,\n    borderRadius: 8\n  },\n  homeButton: {\n    backgroundColor: '#5CB85C',\n    paddingVertical: 12,\n    paddingHorizontal: 24,\n    borderRadius: 8,\n    marginTop: 16\n  },\n  buttonText: {\n    color: '#fff',\n    fontSize: 16,\n    fontWeight: 'bold'\n  },\n  downloadProgressContainer: {\n    width: '100%',\n    marginVertical: 24,\n    alignItems: 'center'\n  },\n  downloadText: {\n    fontSize: 16,\n    marginBottom: 8,\n    color: '#333'\n  },\n  progressBar: {\n    height: 10,\n    width: '80%',\n    backgroundColor: '#e0e0e0',\n    borderRadius: 5,\n    overflow: 'hidden'\n  },\n  progressFill: {\n    height: '100%',\n    backgroundColor: '#4A90E2'\n  },\n  video: {\n    width: '100%',\n    height: 250,\n    marginVertical: 24,\n    backgroundColor: '#000',\n    borderRadius: 8\n  }\n});","map":{"version":3,"names":["React","useState","useEffect","StyleSheet","View","Text","TouchableOpacity","ActivityIndicator","Alert","Video","FileSystem","checkJobStatus","API_ENDPOINTS","jsx","_jsx","jsxs","_jsxs","RenderingScreen","_ref","route","navigation","jobId","params","_useState","status","created_at","completed_at","error","_useState2","_slicedToArray","setStatus","_useState3","_useState4","loading","setLoading","_useState5","_useState6","downloadProgress","setDownloadProgress","_useState7","_useState8","videoUri","setVideoUri","interval","checkStatus","_ref2","_asyncToGenerator","jobStatus","clearInterval","console","alert","message","apply","arguments","setInterval","handleDownload","_ref3","fileUri","cacheDirectory","progressCallback","progress","totalBytesWritten","totalBytesExpectedToWrite","downloadResumable","createDownloadResumable","RESULT","result","downloadAsync","uri","Error","handleGoHome","popToTop","renderContent","style","styles","centerContent","children","size","color","loadingText","statusText","infoText","contentContainer","successText","source","rate","volume","isMuted","resizeMode","shouldPlay","isLooping","video","useNativeControls","homeButton","onPress","buttonText","downloadProgressContainer","downloadText","Math","round","progressBar","progressFill","width","downloadButton","errorText","errorDetail","container","header","title","create","flex","backgroundColor","padding","borderBottomWidth","borderBottomColor","fontSize","fontWeight","justifyContent","alignItems","marginTop","textAlign","marginBottom","borderRadius","paddingVertical","paddingHorizontal","marginVertical","height","overflow"],"sources":["D:/DEV/buttercutai_assignment/frontend/screens/RenderingScreen.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport {\r\n  StyleSheet,\r\n  View,\r\n  Text,\r\n  TouchableOpacity,\r\n  ActivityIndicator,\r\n  Alert,\r\n} from 'react-native';\r\nimport { Video } from 'expo-av';\r\nimport * as FileSystem from 'expo-file-system';\r\nimport { checkJobStatus } from '../api';\r\nimport { API_ENDPOINTS } from '../config';\r\n\r\nexport default function RenderingScreen({ route, navigation }) {\r\n  const { jobId } = route.params;\r\n  const [status, setStatus] = useState({\r\n    status: 'pending',\r\n    created_at: null,\r\n    completed_at: null,\r\n    error: null,\r\n  });\r\n  const [loading, setLoading] = useState(true);\r\n  const [downloadProgress, setDownloadProgress] = useState(0);\r\n  const [videoUri, setVideoUri] = useState(null);\r\n\r\n  // Poll for job status\r\n  useEffect(() => {\r\n    let interval;\r\n    \r\n    const checkStatus = async () => {\r\n      try {\r\n        const jobStatus = await checkJobStatus(jobId);\r\n        setStatus(jobStatus);\r\n        setLoading(false);\r\n        \r\n        // If job is completed or failed, stop polling\r\n        if (jobStatus.status === 'completed' || jobStatus.status === 'failed') {\r\n          clearInterval(interval);\r\n        }\r\n      } catch (error) {\r\n        console.error('Error checking job status:', error);\r\n        setLoading(false);\r\n        Alert.alert('Error', `Failed to check processing status: ${error.message}`);\r\n        clearInterval(interval);\r\n      }\r\n    };\r\n    \r\n    // Check status immediately\r\n    checkStatus();\r\n    \r\n    // Then check every 2 seconds\r\n    interval = setInterval(checkStatus, 2000);\r\n    \r\n    // Clean up\r\n    return () => {\r\n      if (interval) {\r\n        clearInterval(interval);\r\n      }\r\n    };\r\n  }, [jobId]);\r\n\r\n  // Handle video download\r\n  const handleDownload = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setDownloadProgress(0);\r\n      \r\n      // Create file URL in app cache\r\n      const fileUri = `${FileSystem.cacheDirectory}rendered_video_${jobId}.mp4`;\r\n      \r\n      // Progress callback\r\n      const progressCallback = (downloadProgress) => {\r\n        const progress = downloadProgress.totalBytesWritten / downloadProgress.totalBytesExpectedToWrite;\r\n        setDownloadProgress(progress);\r\n      };\r\n      \r\n      // Start download\r\n      const downloadResumable = FileSystem.createDownloadResumable(\r\n        API_ENDPOINTS.RESULT(jobId),\r\n        fileUri,\r\n        {},\r\n        progressCallback\r\n      );\r\n      \r\n      const result = await downloadResumable.downloadAsync();\r\n      \r\n      if (result.status === 200) {\r\n        setVideoUri(result.uri);\r\n      } else {\r\n        throw new Error(`Download failed with status ${result.status}`);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error downloading video:', error);\r\n      Alert.alert('Error', `Failed to download video: ${error.message}`);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Handle go home\r\n  const handleGoHome = () => {\r\n    navigation.popToTop();\r\n  };\r\n\r\n  // Render different content based on job status\r\n  const renderContent = () => {\r\n    if (loading && !videoUri) {\r\n      return (\r\n        <View style={styles.centerContent}>\r\n          <ActivityIndicator size=\"large\" color=\"#4A90E2\" />\r\n          <Text style={styles.loadingText}>Checking status...</Text>\r\n        </View>\r\n      );\r\n    }\r\n    \r\n    switch (status.status) {\r\n      case 'pending':\r\n        return (\r\n          <View style={styles.centerContent}>\r\n            <ActivityIndicator size=\"large\" color=\"#4A90E2\" />\r\n            <Text style={styles.statusText}>Your video is in queue for processing...</Text>\r\n          </View>\r\n        );\r\n      \r\n      case 'processing':\r\n        return (\r\n          <View style={styles.centerContent}>\r\n            <ActivityIndicator size=\"large\" color=\"#4A90E2\" />\r\n            <Text style={styles.statusText}>Processing your video...</Text>\r\n            <Text style={styles.infoText}>This may take a few minutes depending on video length and complexity.</Text>\r\n          </View>\r\n        );\r\n      \r\n      case 'completed':\r\n        if (videoUri) {\r\n          return (\r\n            <View style={styles.contentContainer}>\r\n              <Text style={styles.successText}>Video processing complete!</Text>\r\n              \r\n              <Video\r\n                source={{ uri: videoUri }}\r\n                rate={1.0}\r\n                volume={1.0}\r\n                isMuted={false}\r\n                resizeMode=\"contain\"\r\n                shouldPlay={false}\r\n                isLooping\r\n                style={styles.video}\r\n                useNativeControls\r\n              />\r\n              \r\n              <TouchableOpacity\r\n                style={styles.homeButton}\r\n                onPress={handleGoHome}\r\n              >\r\n                <Text style={styles.buttonText}>Edit Another Video</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          );\r\n        } else {\r\n          return (\r\n            <View style={styles.centerContent}>\r\n              <Text style={styles.successText}>Video processing complete!</Text>\r\n              \r\n              {downloadProgress > 0 && downloadProgress < 1 ? (\r\n                <View style={styles.downloadProgressContainer}>\r\n                  <Text style={styles.downloadText}>Downloading: {Math.round(downloadProgress * 100)}%</Text>\r\n                  <View style={styles.progressBar}>\r\n                    <View \r\n                      style={[\r\n                        styles.progressFill, \r\n                        { width: `${downloadProgress * 100}%` }\r\n                      ]} \r\n                    />\r\n                  </View>\r\n                </View>\r\n              ) : (\r\n                <TouchableOpacity\r\n                  style={styles.downloadButton}\r\n                  onPress={handleDownload}\r\n                >\r\n                  <Text style={styles.buttonText}>Download and Preview</Text>\r\n                </TouchableOpacity>\r\n              )}\r\n            </View>\r\n          );\r\n        }\r\n      \r\n      case 'failed':\r\n        return (\r\n          <View style={styles.centerContent}>\r\n            <Text style={styles.errorText}>Processing Failed</Text>\r\n            <Text style={styles.errorDetail}>{status.error || 'Unknown error occurred'}</Text>\r\n            <TouchableOpacity\r\n              style={styles.homeButton}\r\n              onPress={handleGoHome}\r\n            >\r\n              <Text style={styles.buttonText}>Try Again</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n        );\r\n      \r\n      default:\r\n        return (\r\n          <View style={styles.centerContent}>\r\n            <Text style={styles.errorText}>Unknown Status</Text>\r\n            <TouchableOpacity\r\n              style={styles.homeButton}\r\n              onPress={handleGoHome}\r\n            >\r\n              <Text style={styles.buttonText}>Go Back</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n        );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <View style={styles.header}>\r\n        <Text style={styles.title}>Video Processing</Text>\r\n        <Text style={styles.jobId}>Job ID: {jobId}</Text>\r\n      </View>\r\n      \r\n      {renderContent()}\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n  },\r\n  header: {\r\n    padding: 16,\r\n    borderBottomWidth: 1,\r\n    borderBottomColor: '#eee',\r\n  },\r\n  title: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: '#333',\r\n  },\r\n  jobId: {\r\n    fontSize: 12,\r\n    color: '#999',\r\n  },\r\n  centerContent: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    padding: 20,\r\n  },\r\n  contentContainer: {\r\n    flex: 1,\r\n    padding: 16,\r\n  },\r\n  loadingText: {\r\n    marginTop: 16,\r\n    fontSize: 16,\r\n    color: '#666',\r\n  },\r\n  statusText: {\r\n    marginTop: 16,\r\n    fontSize: 18,\r\n    fontWeight: '500',\r\n    color: '#333',\r\n  },\r\n  infoText: {\r\n    marginTop: 8,\r\n    fontSize: 14,\r\n    color: '#666',\r\n    textAlign: 'center',\r\n  },\r\n  successText: {\r\n    fontSize: 20,\r\n    fontWeight: 'bold',\r\n    color: '#5CB85C',\r\n    marginBottom: 24,\r\n    textAlign: 'center',\r\n  },\r\n  errorText: {\r\n    fontSize: 20,\r\n    fontWeight: 'bold',\r\n    color: '#d9534f',\r\n    marginBottom: 12,\r\n  },\r\n  errorDetail: {\r\n    fontSize: 14,\r\n    color: '#666',\r\n    textAlign: 'center',\r\n    marginBottom: 24,\r\n    padding: 16,\r\n    backgroundColor: '#f8d7da',\r\n    borderRadius: 4,\r\n  },\r\n  downloadButton: {\r\n    backgroundColor: '#4A90E2',\r\n    paddingVertical: 12,\r\n    paddingHorizontal: 24,\r\n    borderRadius: 8,\r\n  },\r\n  homeButton: {\r\n    backgroundColor: '#5CB85C',\r\n    paddingVertical: 12,\r\n    paddingHorizontal: 24,\r\n    borderRadius: 8,\r\n    marginTop: 16,\r\n  },\r\n  buttonText: {\r\n    color: '#fff',\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n  },\r\n  downloadProgressContainer: {\r\n    width: '100%',\r\n    marginVertical: 24,\r\n    alignItems: 'center',\r\n  },\r\n  downloadText: {\r\n    fontSize: 16,\r\n    marginBottom: 8,\r\n    color: '#333',\r\n  },\r\n  progressBar: {\r\n    height: 10,\r\n    width: '80%',\r\n    backgroundColor: '#e0e0e0',\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n  },\r\n  progressFill: {\r\n    height: '100%',\r\n    backgroundColor: '#4A90E2',\r\n  },\r\n  video: {\r\n    width: '100%',\r\n    height: 250,\r\n    marginVertical: 24,\r\n    backgroundColor: '#000',\r\n    borderRadius: 8,\r\n  },\r\n});"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}